Каждая буква сопоставляется последовательности цифр в соответствии с телефонной клавиатурой
например, A → "2", B → "22", C → "222"
Далее построим префиксное дерево, это позволяет быстро проверить, заканчивается ли текущий фрагмент кода на одно из слов словаря.
Все слова из словаря кодируются, и их цифровые представления вставляются в trie.
Каждый узел дерева соответствует цифре. Когда последовательность цифр полностью совпадает с закодированным словом, в узле сохраняется оригинальное слово (ключ «_w»).
Динамическое программирование для разбиения сообщения:
Создаётся массив dp длиной L+1 (где L – длина входной строки), где dp[i] хранит пару (индекс предыдущего разбиения, слово),
обозначающую, что до позиции i можно корректно разбить сообщение.
Для каждой позиции i, если до неё можно добраться (т.е. dp[i] определено), происходит попытка пройти по trie, начиная с i.
По мере продвижения по входной строке, если в текущем узле обнаружено слово (наличие ключа «_w»), обновляется значение dp[j] (где j – текущая позиция в сообщении).
Начиная с конца строки (индекс L) производится обратное восстановление разбиения по сохранённым в dp индексам и словам.
Полученные слова затем объединяются через пробел, что и является итоговым расшифрованным сообщением.